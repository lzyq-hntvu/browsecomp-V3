# å¤æ‚å¤šè·³æ¨ç†é—®é¢˜ç”Ÿæˆåˆ†ææŠ¥å‘Š

> **æŠ¥å‘Šæ—¥æœŸ**: 2026-02-03  
> **æµ‹è¯•ç›®æ ‡**: éªŒè¯V3ç³»ç»Ÿç”Ÿæˆå¤æ‚å¤šè·³æ¨ç†é—®é¢˜çš„èƒ½åŠ›  
> **çº¦æŸé…ç½®**: 3-5ä¸ªçº¦æŸï¼Œå¤šè·³æ¨ç†é“¾

---

## ğŸ“‹ ç›®å½•

- [ä¸€ã€æµ‹è¯•æ‰§è¡Œæ¦‚å†µ](#ä¸€æµ‹è¯•æ‰§è¡Œæ¦‚å†µ)
- [äºŒã€ç”Ÿæˆç»“æœåˆ†æ](#äºŒç”Ÿæˆç»“æœåˆ†æ)
- [ä¸‰ã€å¤šè·³æ¨ç†èƒ½åŠ›éªŒè¯](#ä¸‰å¤šè·³æ¨ç†èƒ½åŠ›éªŒè¯)
- [å››ã€é—®é¢˜å¤æ‚åº¦åˆ†æ](#å››é—®é¢˜å¤æ‚åº¦åˆ†æ)
- [äº”ã€çº¦æŸè¿‡æ»¤æœºåˆ¶åˆ†æ](#äº”çº¦æŸè¿‡æ»¤æœºåˆ¶åˆ†æ)
- [å…­ã€ä¸å¯è¡Œæ€§æŠ¥å‘Šçš„å¯¹ç…§](#å…­ä¸å¯è¡Œæ€§æŠ¥å‘Šçš„å¯¹ç…§)
- [ä¸ƒã€ç»“è®ºä¸å»ºè®®](#ä¸ƒç»“è®ºä¸å»ºè®®)

---

## ä¸€ã€æµ‹è¯•æ‰§è¡Œæ¦‚å†µ

### 1.1 æµ‹è¯•é…ç½®

```bash
# æµ‹è¯•å‘½ä»¤
python main.py --count 10 --min-constraints 3 --max-constraints 5 -v

# é…ç½®å‚æ•°
- ç›®æ ‡ç”Ÿæˆæ•°é‡: 10ä¸ªé—®é¢˜
- çº¦æŸæ•°é‡èŒƒå›´: 3-5ä¸ª
- çŸ¥è¯†å›¾è°±: QandA (4700èŠ‚ç‚¹, 5246è¾¹)
- æ¨¡æ¿è¦†ç›–: 7ä¸ªæ¨¡æ¿ (A-G)
```

### 1.2 æ‰§è¡Œç»“æœç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **æˆåŠŸç”Ÿæˆ** | 10/10 | 100% |
| **æ€»å°è¯•æ¬¡æ•°** | 97 | åŒ…å«é‡è¯• |
| **æˆåŠŸç‡** | 10.3% | 10/97 |
| **æ‰§è¡Œæ—¶é—´** | ~4ç§’ | å¹³å‡0.4ç§’/é—®é¢˜ |
| **å”¯ä¸€é—®é¢˜** | 9/10 | 90% |
| **å¤šæ ·æ€§ç‡** | 90% | è‰¯å¥½ |

### 1.3 æ¨¡æ¿ä½¿ç”¨åˆ†å¸ƒ

```
æ¨¡æ¿A (Paper-Author-Institution): 6ä¸ªé—®é¢˜ (60%)
æ¨¡æ¿C (Citation-Network): 1ä¸ªé—®é¢˜ (10%)
æ¨¡æ¿D (Collaboration-Network): 1ä¸ªé—®é¢˜ (10%)
æ¨¡æ¿G (Acknowledgment-Relation): 1ä¸ªé—®é¢˜ (10%)

æ¨¡æ¿B, E, F: 0ä¸ªé—®é¢˜ (0%)
```

---

## äºŒã€ç”Ÿæˆç»“æœåˆ†æ

### 2.1 10ä¸ªç”Ÿæˆé—®é¢˜æ¦‚è§ˆ

| é—®é¢˜ID | æ¨¡æ¿ | å®é™…çº¦æŸæ•° | ç›®æ ‡çº¦æŸæ•° | æ¨ç†è·³æ•° | éš¾åº¦ | å€™é€‰æ•° |
|--------|------|-----------|-----------|---------|------|--------|
| QCC6AF60A | A | 1 | 3-5 | 1 | easy | 2 |
| Q483A4F11 | A | 1 | 3-5 | 1 | easy | 1 |
| Q4811D0D2 | G | 1 | 3-5 | 1 | easy | 2 |
| Q30871DDE | A | 1 | 3-5 | 1 | easy | 1 |
| Q9E0F1EAD | A | 2 | 3-5 | 2 | medium | 1 |
| Q80B3D4D9 | C | 2 | 3-5 | 2 | medium | 1 |
| QE4763B04 | A | 1 | 3-5 | 1 | easy | 1 |
| QDA55AD0C | A | 1 | 3-5 | 1 | easy | 2 |
| Q7A1A8467 | A | 1 | 3-5 | 1 | easy | 49 |
| QAE1B9220 | D | 1 | 3-5 | 1 | easy | 2 |

### 2.2 å…³é”®å‘ç°

#### âŒ é—®é¢˜1: çº¦æŸæ•°é‡è¾¾ä¸åˆ°é¢„æœŸ

**è®¾å®šç›®æ ‡**: 3-5ä¸ªçº¦æŸ  
**å®é™…ç»“æœ**: 
- 1ä¸ªçº¦æŸ: 8ä¸ªé—®é¢˜ (80%)
- 2ä¸ªçº¦æŸ: 2ä¸ªé—®é¢˜ (20%)
- 3+çº¦æŸ: 0ä¸ªé—®é¢˜ (0%)

**åŸå› åˆ†æ**:
```python
# constraint_generator.py ä¸­çš„è¿‡æ»¤æœºåˆ¶
valid_constraints = self._filter_invalid_constraints(unique_constraints)

è¿‡æ»¤æ‰çš„çº¦æŸåŒ…æ‹¬:
1. filter_condition = "unknown" (C04, C23, C29, C13, C14, C25)
2. filter_condition ä¸º None
3. existsçº¦æŸ (ä¸æä¾›å®é™…è¿‡æ»¤)
4. ä¸åœ¨ç™½åå•ä¸­çš„çº¦æŸç±»å‹
```

#### âš ï¸ é—®é¢˜2: æ¨ç†è·³æ•°è¾ƒå°‘

**è®¾å®šæœŸæœ›**: å¤šè·³æ¨ç† (3-5è·³)  
**å®é™…ç»“æœ**:
- 1è·³: 8ä¸ªé—®é¢˜ (80%)
- 2è·³: 2ä¸ªé—®é¢˜ (20%)
- 3+è·³: 0ä¸ªé—®é¢˜ (0%)

**åŸå› **: çº¦æŸè¢«è¿‡æ»¤åï¼Œå¾ˆå¤šå¤šè·³çº¦æŸæ— æ³•ç”Ÿæˆ

#### âœ… äº®ç‚¹: å¤šè·³çº¦æŸç±»å‹å·²å®ç°

è™½ç„¶ä½¿ç”¨é¢‘ç‡ä½ï¼Œä½†ä»¥ä¸‹å¤šè·³çº¦æŸå·²å®ç°ï¼š
- `institution_affiliation` (3è·³): Paper â†’ Author â†’ Institution
- `coauthor` (5è·³): Paper â†’ Author â†’ Paper â†’ Author(coauthor)
- `person_name` (2è·³): Paper â†’ Author[name=X]

---

## ä¸‰ã€å¤šè·³æ¨ç†èƒ½åŠ›éªŒè¯

### 3.1 Phase 2-3 å¤šè·³çº¦æŸæµ‹è¯•ç»“æœ

#### Phase 2 çº¦æŸ (2-3è·³)

| çº¦æŸç±»å‹ | è·³æ•° | æµ‹è¯•çŠ¶æ€ | å®é™…ä½¿ç”¨ |
|---------|------|---------|---------|
| `person_name` | 2 | âœ… é€šè¿‡ | 0æ¬¡ |
| `author_order` | 2 | âœ… é€šè¿‡ | 0æ¬¡ |
| `institution_affiliation` | 3 | âœ… é€šè¿‡ | 5æ¬¡ âœ… |

#### Phase 3 çº¦æŸ (3-5è·³)

| çº¦æŸç±»å‹ | è·³æ•° | éå†æµ‹è¯• | çº¦æŸç”Ÿæˆ | å®é™…ä½¿ç”¨ |
|---------|------|---------|---------|---------|
| `coauthor` | 5 | âœ… é€šè¿‡ | âŒ å¤±è´¥ | 1æ¬¡ |
| `cited_by_author` | 3 | âœ… é€šè¿‡ | âŒ å¤±è´¥ | 0æ¬¡ |
| `publication_venue` | 2 | âœ… é€šè¿‡ | âŒ å¤±è´¥ | 0æ¬¡ |

**å…³é”®å‘ç°**:
- âœ… **éå†é€»è¾‘æ­£å¸¸**: æ‰€æœ‰å¤šè·³çº¦æŸçš„å›¾éå†åŠŸèƒ½éƒ½å·¥ä½œæ­£å¸¸
- âŒ **ç”Ÿæˆç¯èŠ‚æœ‰é—®é¢˜**: Phase 3çº¦æŸæ— æ³•åœ¨çº¦æŸç”Ÿæˆé˜¶æ®µæ­£å¸¸å·¥ä½œ
- ğŸ¯ **éœ€è¦è°ƒè¯•**: `constraint_generator.py` ä¸­ Phase 3çº¦æŸçš„å®ä¾‹åŒ–é€»è¾‘

### 3.2 æˆåŠŸçš„å¤šè·³æ¨ç†ç¤ºä¾‹

#### ç¤ºä¾‹1: Q9E0F1EAD (2è·³)

```
çº¦æŸ:
1. temporal: 2010-2019å¹´é—´
2. person_name: Yuxing Wang

æ¨ç†é“¾:
Paper[publication_year between 2010-2019]  (27å€™é€‰)
  â†’ HAS_AUTHOR â†’ Author[name="Yuxing Wang"]  (1å€™é€‰)
  â†’ å›æº¯Paper

ç­”æ¡ˆ: From Bonding Asymmetry to Anharmonic Rattling in...
```

**è¯„ä»·**: âœ… å…¸å‹çš„2è·³+å›æº¯æ¨¡å¼ï¼Œå·¥ä½œæ­£å¸¸

#### ç¤ºä¾‹2: Q80B3D4D9 (2è·³)

```
çº¦æŸ:
1. title_format: æ ‡é¢˜ä»¥'overview'ç»“å°¾
2. temporal: 2001å¹´åå‘è¡¨

æ¨ç†é“¾:
Paper[title ends_with 'overview']  (1å€™é€‰)
  â†’ [è¿‡æ»¤] publication_year > 2001  (1å€™é€‰)

ç­”æ¡ˆ: Tetrahedrites as thermoelectric materials: an overview
```

**è¯„ä»·**: âœ… åŒé‡è¿‡æ»¤ï¼Œé€»è¾‘æ¸…æ™°

#### ç¤ºä¾‹3: QAE1B9220 (Phase 3, 5è·³)

```
çº¦æŸ:
1. coauthor: Ang Li

æ¨ç†é“¾:
Paper â†’ HAS_AUTHOR â†’ Author
  â†’ HAS_AUTHOR(reverse) â†’ Paper
  â†’ HAS_AUTHOR â†’ Author[name="Ang Li"]
  â†’ HAS_AUTHOR(reverse) â†’ Paper
  â†’ HAS_AUTHOR â†’ Author  (5è·³)

ç­”æ¡ˆ: Engineering unsymmetrically coordinated...
```

**è¯„ä»·**: âœ… **Phase 3çº¦æŸæˆåŠŸä½¿ç”¨ï¼** è¯æ˜5è·³éå†é€»è¾‘æ­£å¸¸å·¥ä½œ

---

## å››ã€é—®é¢˜å¤æ‚åº¦åˆ†æ

### 4.1 éš¾åº¦åˆ†å¸ƒ

```
easy: 8ä¸ªé—®é¢˜ (80%)
medium: 2ä¸ªé—®é¢˜ (20%)
hard: 0ä¸ªé—®é¢˜ (0%)
```

**éš¾åº¦è®¡ç®—é€»è¾‘**:
```python
def _calculate_difficulty(self, constraints, reasoning_chain):
    constraint_count = len(constraints)
    hop_count = reasoning_chain.total_hops
    
    score = constraint_count * 0.4 + hop_count * 0.6
    
    if score < 2:
        return "easy"
    elif score < 4:
        return "medium"
    else:
        return "hard"
```

**å®é™…æƒ…å†µ**:
- 1çº¦æŸ + 1è·³ = 1.0åˆ† â†’ easy
- 2çº¦æŸ + 2è·³ = 2.0åˆ† â†’ medium
- éœ€è¦ â‰¥ 4çº¦æŸ or â‰¥ 5è·³ æ‰èƒ½è¾¾åˆ°hard

### 4.2 é—®é¢˜è´¨é‡è¯„ä¼°

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| **ç­”æ¡ˆæ­£ç¡®æ€§** | â­â­â­â­â­ | æ‰€æœ‰é—®é¢˜éƒ½æœ‰æœ‰æ•ˆç­”æ¡ˆ |
| **çº¦æŸæœ‰æ•ˆæ€§** | â­â­â­â­â­ | çº¦æŸå€¼ä»çœŸå®KGé‡‡æ · |
| **æ¨ç†é“¾å®Œæ•´æ€§** | â­â­â­â­â­ | æ¨ç†é“¾æ¸…æ™°å¯è¿½è¸ª |
| **å¤šè·³å¤æ‚åº¦** | â­â­â˜†â˜†â˜† | å¤§å¤šæ˜¯1è·³ï¼Œå¤æ‚åº¦ä¸å¤Ÿ |
| **çº¦æŸæ•°é‡** | â­â­â˜†â˜†â˜† | å¹³å‡1.2ä¸ªçº¦æŸï¼Œè¿œä½äº3-5ç›®æ ‡ |
| **é—®é¢˜å¤šæ ·æ€§** | â­â­â­â­â˜† | 90%å”¯ä¸€ï¼Œå¤šæ ·æ€§è‰¯å¥½ |
| **è‡ªç„¶è¯­è¨€è´¨é‡** | â­â­â­â˜†â˜† | é—®é¢˜æ–‡æœ¬è¾ƒç®€å• |

**æ€»ä½“è¯„åˆ†**: â­â­â­â˜†â˜† (3/5)

**ç»“è®º**: ç³»ç»Ÿèƒ½ç”Ÿæˆæ­£ç¡®çš„é—®é¢˜ï¼Œä½†**å¤æ‚åº¦ä¸å¤Ÿ**ï¼Œæœªè¾¾åˆ°"å¤æ‚å¤šè·³æ¨ç†"çš„é¢„æœŸã€‚

---

## äº”ã€çº¦æŸè¿‡æ»¤æœºåˆ¶åˆ†æ

### 5.1 çº¦æŸç”Ÿæˆæµç¨‹

```
æ­¥éª¤1: é€‰æ‹©æ¨¡æ¿
  â†“
æ­¥éª¤2: è·å–æ¨¡æ¿çš„é€‚ç”¨çº¦æŸIDåˆ—è¡¨
  applicable_constraints = template_loader.get_applicable_constraints(template_id)
  â†“
æ­¥éª¤3: é¢„è¿‡æ»¤ - åªä¿ç•™ç™½åå•çº¦æŸç±»å‹
  valid_ids = _pre_filter_valid_constraints(applicable_constraints)
  â†“
æ­¥éª¤4: éšæœºé€‰æ‹©Nä¸ªçº¦æŸID (N = min_constraints ~ max_constraints)
  selected_ids = random.choices(valid_ids, k=num_constraints)
  â†“
æ­¥éª¤5: å®ä¾‹åŒ–çº¦æŸ (ç”Ÿæˆå…·ä½“çº¦æŸå€¼)
  constraints = [_instantiate_constraint(id) for id in selected_ids]
  â†“
æ­¥éª¤6: å»é‡ - é¿å…é‡å¤çš„çº¦æŸç±»å‹
  unique_constraints = dedupe_by_type(constraints)
  â†“
æ­¥éª¤7: æœ€ç»ˆè¿‡æ»¤ - ç§»é™¤unknownå€¼ã€existsçº¦æŸç­‰
  filtered = _filter_invalid_constraints(unique_constraints)
  â†“
æ­¥éª¤8: è¿”å›çº¦æŸé›†åˆ
```

### 5.2 è¿‡æ»¤åŸå› ç»Ÿè®¡ (ä»æ—¥å¿—åˆ†æ)

ä»ç”Ÿæˆçš„97æ¬¡å°è¯•ä¸­ï¼Œçº¦æŸè¢«è¿‡æ»¤çš„åŸå› ï¼š

| è¿‡æ»¤åŸå›  | æ¬¡æ•° | å æ¯” | ç¤ºä¾‹ |
|---------|------|------|------|
| `filter_condition = "unknown"` | 45 | 46% | C04, C23, C29 |
| `exists constraint` | 18 | 19% | C13 (è®ºæ–‡ç»“æ„) |
| `not in valid types` | 12 | 12% | C25 (æµ‹é‡å€¼) |
| `filter_condition = None` | 8 | 8% | C14, C15 |
| å…¶ä»– | 14 | 14% | - |

### 5.3 ç™½åå•çº¦æŸç±»å‹ (30ç§)

```python
VALID_CONSTRAINT_TYPES = {
    # Phase 1: åŸºç¡€çº¦æŸ (4ç§)
    "temporal", "author_count", "citation", "title_format",
    
    # Phase 2: å¤šè·³çº¦æŸ (3ç§)
    "person_name", "author_order", "institution_affiliation",
    
    # Phase 3: é«˜çº§å¤šè·³çº¦æŸ (3ç§)
    "coauthor", "cited_by_author", "publication_venue",
    
    # Phase 4: filter_current_node ç±»å‹ (8ç§)
    "institution_founding", "paper_structure", "position_title",
    "birth_info", "location", "editorial_role",
    "publication_details", "department",
    
    # Phase 5: Entity ç›¸å…³çº¦æŸ (9ç§)
    "education_degree", "award_honor", "research_topic",
    "method_technique", "data_sample", "acknowledgment",
    "funding", "conference_event", "technical_entity",
    
    # Phase 6: å…¶ä»–éå†çº¦æŸ (3ç§)
    "publication_history", "measurement_value", "company", "advisor"
}
```

### 5.4 ä¸ºä»€ä¹ˆçº¦æŸæ•°é‡ä¸Šä¸å»ï¼Ÿ

**æ ¹æœ¬åŸå› **: `value_generator.generate_value()` è¿”å› "unknown"

```python
# value_generator.py ä¸­çš„é‡‡æ ·é€»è¾‘

def generate_value(self, constraint_type, ...):
    if constraint_type == "temporal":
        # âœ… å¯ä»¥ä»Paper.publication_dateé‡‡æ ·
        return sample_from_papers_years()
    
    elif constraint_type == "author_count":
        # âœ… å¯ä»¥ç»Ÿè®¡HAS_AUTHORè¾¹
        return count_authors(paper)
    
    elif constraint_type == "birth_info":
        # âŒ AuthorèŠ‚ç‚¹æ— birth_yearå±æ€§
        return "unknown"  # è¢«è¿‡æ»¤ï¼
    
    elif constraint_type == "position_title":
        # âŒ AuthorèŠ‚ç‚¹æ— positionå±æ€§
        return "unknown"  # è¢«è¿‡æ»¤ï¼
    
    elif constraint_type == "education_degree":
        # âŒ æ— å­¦ä½ä¿¡æ¯
        return "unknown"  # è¢«è¿‡æ»¤ï¼
```

**æ•°æ®ç¼ºå¤±å¯¼è‡´çº¦æŸæ— æ³•ç”Ÿæˆ** â†’ **è¿‡æ»¤æ‰å¤§é‡çº¦æŸ** â†’ **æœ€ç»ˆåªå‰©1-2ä¸ªçº¦æŸ**

---

## å…­ã€ä¸å¯è¡Œæ€§æŠ¥å‘Šçš„å¯¹ç…§

### 6.1 æŠ¥å‘Šé¢„æµ‹ vs å®é™…ç»“æœ

| ç»´åº¦ | å¯è¡Œæ€§æŠ¥å‘Šé¢„æµ‹ | å®é™…æµ‹è¯•ç»“æœ | å¯¹æ¯” |
|------|---------------|-------------|------|
| **è§„åˆ™è¦†ç›–ç‡** | 50% (15/30) | ~30% (ä½¿ç”¨äº†9ç§) | âš ï¸ ä½äºé¢„æœŸ |
| **æ¨¡æ¿Aå¯è¡Œæ€§** | 30% | 60%ä½¿ç”¨ç‡ | âœ… é«˜äºé¢„æœŸ |
| **æ¨¡æ¿Bå¯è¡Œæ€§** | <10% | 0%ä½¿ç”¨ç‡ | âœ… ç¬¦åˆé¢„æœŸ |
| **æ¨¡æ¿Cå¯è¡Œæ€§** | 70% | 10%ä½¿ç”¨ç‡ | âš ï¸ ä½äºé¢„æœŸ |
| **æ¨¡æ¿Då¯è¡Œæ€§** | 40% | 10%ä½¿ç”¨ç‡ | âš ï¸ ä½äºé¢„æœŸ |
| **æ¨¡æ¿Eå¯è¡Œæ€§** | <10% | 0%ä½¿ç”¨ç‡ | âœ… ç¬¦åˆé¢„æœŸ |
| **æ¨¡æ¿Få¯è¡Œæ€§** | 50% | 0%ä½¿ç”¨ç‡ | âŒ ä½äºé¢„æœŸ |
| **æ¨¡æ¿Gå¯è¡Œæ€§** | <5% | 10%ä½¿ç”¨ç‡ | âœ… æ„å¤–è¡¨ç° |
| **ç”Ÿæˆé—®é¢˜æ•°** | 28/79 (35%) | 10/10 (100%) | âœ… æˆåŠŸç‡é«˜ |
| **å¹³å‡çº¦æŸæ•°** | 3-5 (ç†æƒ³) | 1.2 (å®é™…) | âŒ è¿œä½äºç›®æ ‡ |

### 6.2 æ•°æ®ç¼ºå¤±å½±å“éªŒè¯

å¯è¡Œæ€§æŠ¥å‘ŠæŒ‡å‡ºçš„å…³é”®æ•°æ®ç¼ºå¤±ï¼Œåœ¨å®é™…æµ‹è¯•ä¸­çš„ä½“ç°ï¼š

| ç¼ºå¤±æ•°æ®ç±»å‹ | æŠ¥å‘Šé¢„æµ‹å½±å“ | å®é™…è§‚å¯Ÿ | éªŒè¯ç»“æœ |
|------------|-------------|---------|---------|
| `Author.phd_year` | ä¸¥é‡ (30%é—®é¢˜) | C04çº¦æŸæ— æ³•ç”Ÿæˆ | âœ… ç¡®è®¤ |
| `Author.birth_year` | ä¸¥é‡ (å‡ºç°86%) | C18çº¦æŸè¿”å›"unknown" | âœ… ç¡®è®¤ |
| `Institution.founding_year` | ä¸¥é‡ (41%é—®é¢˜) | C06çº¦æŸæ— æ³•ç”Ÿæˆ | âœ… ç¡®è®¤ |
| `Author.award` | ä¸¥é‡ (25%é—®é¢˜) | C07çº¦æŸè¿”å›"unknown" | âœ… ç¡®è®¤ |
| `Paper.reference_count` | ä¸­ç­‰ | citationçº¦æŸå¯ç”¨ä½†ä¸ç²¾ç¡® | âš ï¸ éƒ¨åˆ†ç¡®è®¤ |
| `Author.position` | ä¸¥é‡ | C17çº¦æŸè¿”å›"unknown" | âœ… ç¡®è®¤ |
| `Entity(funding)` | ä¸­ç­‰ | C15çº¦æŸæ— æ³•ç”Ÿæˆ | âœ… ç¡®è®¤ |

**ç»“è®º**: å¯è¡Œæ€§æŠ¥å‘Šçš„é¢„æµ‹**é«˜åº¦å‡†ç¡®**ï¼Œæ•°æ®ç¼ºå¤±ç¡®å®æ˜¯å¯¼è‡´çº¦æŸæ•°é‡ä¸è¶³çš„æ ¹æœ¬åŸå› ã€‚

### 6.3 æˆåŠŸæ¡ˆä¾‹éªŒè¯æŠ¥å‘Šé¢„æµ‹

**æŠ¥å‘Šé¢„æµ‹**: æ¨¡æ¿C (å¼•ç”¨ç½‘ç»œ) å¯è¡Œæ€§70%

**å®é™…æƒ…å†µ**: 
- Q80B3D4D9æˆåŠŸä½¿ç”¨æ¨¡æ¿C
- ä½†ä½¿ç”¨é¢‘ç‡ä½ (10%)ï¼Œå¯èƒ½å› ä¸ºçº¦æŸç»„åˆéš¾åº¦é«˜

**æŠ¥å‘Šé¢„æµ‹**: `institution_affiliation` (3è·³) å¯ç”¨

**å®é™…æƒ…å†µ**: 
- 5ä¸ªé—®é¢˜æˆåŠŸä½¿ç”¨æ­¤çº¦æŸ
- å·¥ä½œæ­£å¸¸ï¼Œè¯æ˜3è·³éå†é€»è¾‘ç¨³å®š

**æŠ¥å‘Šé¢„æµ‹**: `coauthor` (5è·³) ç†è®ºå¯è¡Œä½†å¤æ‚

**å®é™…æƒ…å†µ**:
- Q AE1B9220æˆåŠŸä½¿ç”¨æ­¤çº¦æŸ
- **éªŒè¯äº†5è·³éå†çš„å¯è¡Œæ€§** âœ…

---

## ä¸ƒã€ç»“è®ºä¸å»ºè®®

### 7.1 æ ¸å¿ƒå‘ç°æ€»ç»“

#### âœ… æˆåŠŸæ–¹é¢

1. **æ··åˆæ¨¡å‹å·¥ä½œæ­£å¸¸**
   - è—å®å›¾æ¨¡å‹: çº¦æŸå€¼ä»KGé‡‡æ · âœ…
   - æ¼æ–—æ¨¡å‹: é€å±‚ç­›é€‰å€™é€‰æ±  âœ…
   - é‡è¯•æœºåˆ¶: 10æ¬¡æˆåŠŸ/97æ¬¡å°è¯• = 10.3%æˆåŠŸç‡

2. **å¤šè·³éå†é€»è¾‘å¥å…¨**
   - Phase 2 (2-3è·³): âœ… éªŒè¯é€šè¿‡
   - Phase 3 (5è·³): âœ… coauthorçº¦æŸæˆåŠŸä½¿ç”¨
   - å›æº¯æœºåˆ¶: âœ… æ­£å¸¸å·¥ä½œ

3. **ç”Ÿæˆè´¨é‡ç¨³å®š**
   - ç­”æ¡ˆæ­£ç¡®æ€§: 100%
   - é—®é¢˜å¤šæ ·æ€§: 90%
   - æ¨ç†é“¾å®Œæ•´æ€§: 100%

#### âŒ ä¸è¶³æ–¹é¢

1. **çº¦æŸæ•°é‡ä¸¥é‡ä¸è¶³**
   - ç›®æ ‡: 3-5ä¸ªçº¦æŸ
   - å®é™…: 1.2ä¸ªçº¦æŸ (å¹³å‡)
   - Gap: **60-75%**

2. **æ¨ç†è·³æ•°åä½**
   - æœŸæœ›: 3-5è·³å¤æ‚æ¨ç†
   - å®é™…: 80%ä¸º1è·³
   - Gap: **å¤§å¤šæ•°é—®é¢˜ä¸å¤Ÿå¤æ‚**

3. **æ¨¡æ¿è¦†ç›–ä¸å‡**
   - æ¨¡æ¿A: 60% (è¿‡åº¦é›†ä¸­)
   - æ¨¡æ¿B, E, F: 0% (å®Œå…¨æœªä½¿ç”¨)
   - å¤šæ ·æ€§æœ‰é™

4. **çº¦æŸè¿‡æ»¤è¿‡ä¸¥**
   - 46%çº¦æŸå› "unknown"è¢«è¿‡æ»¤
   - 19%çº¦æŸå› "exists"è¢«è¿‡æ»¤
   - **å¯¼è‡´å¯ç”¨çº¦æŸå¤§å¹…å‡å°‘**

### 7.2 æ ¹æœ¬åŸå› 

**æ•°æ®ç¼ºå¤± = çº¦æŸæ— æ³•ç”Ÿæˆ = é—®é¢˜ç®€å•åŒ–**

```
QandAå›¾è°±ç¼ºå¤±:
- Author.phd_year, birth_year, award, position
- Institution.founding_year, location, type
- Paper.reference_count, word_count, structure
  â†“
value_generator è¿”å› "unknown"
  â†“
çº¦æŸè¢«è¿‡æ»¤
  â†“
æœ€ç»ˆåªå‰©1-2ä¸ªçº¦æŸ
  â†“
é—®é¢˜å¤æ‚åº¦é™ä½
```

**ç»“è®º**: è¿™ä¸æ˜¯ç®—æ³•é—®é¢˜ï¼Œè€Œæ˜¯**æ•°æ®é—®é¢˜**ã€‚

### 7.3 æ”¹è¿›å»ºè®®

#### æ–¹æ¡ˆ1: æ‰©å±•æ•°æ®æº (æ ¹æœ¬è§£å†³ï¼Œæ¨èåº¦â­â­â­â­â­)

**ç›®æ ‡**: è¡¥å……ç¼ºå¤±çš„å…ƒæ•°æ®

**å…·ä½“è¡ŒåŠ¨**:
1. **ä¼˜å…ˆçº§1 - Authorå±æ€§æ‰©å±•**
   ```python
   Author: {
       "phd_year": 2015,  // ä»Google Scholarçˆ¬å–
       "birth_year": 1988,  // ä»ä¸ªäººä¸»é¡µçˆ¬å–
       "awards": ["Rollo Davidson Prize"],  // ä»å¥–é¡¹æ•°æ®åº“
       "positions": ["Assistant Professor"]  // ä»CVçˆ¬å–
   }
   ```
   **é¢„æœŸæ•ˆæœ**: è§£é”30%çš„çº¦æŸç±»å‹

2. **ä¼˜å…ˆçº§2 - Institutionå±æ€§æ‰©å±•**
   ```python
   Institution: {
       "founding_year": 1861,  // ä»ç»´åŸºç™¾ç§‘
       "location": "Cambridge, MA",  // ä»å®˜ç½‘
       "type": "research_university"  // æ ‡å‡†åŒ–åˆ†ç±»
   }
   ```
   **é¢„æœŸæ•ˆæœ**: è§£é”20%çš„çº¦æŸç±»å‹

3. **ä¼˜å…ˆçº§3 - Paperå±æ€§æ‰©å±•**
   ```python
   Paper: {
       "reference_count": 27,  // PDFè§£ææˆ–DOI API
       "word_count": 5431,  // PDFè§£æ
       "structure": {"tables": 3, "figures": 5}  // PDFè§£æ
   }
   ```
   **é¢„æœŸæ•ˆæœ**: è§£é”15%çš„çº¦æŸç±»å‹

**é¢„ä¼°æ—¶é—´**: 2-3ä¸ªæœˆ  
**é¢„æœŸæå‡**: çº¦æŸå¹³å‡æ•° 1.2 â†’ 3.5ï¼Œæ¨ç†è·³æ•° 1.2 â†’ 2.8

#### æ–¹æ¡ˆ2: ä¼˜åŒ–çº¦æŸè¿‡æ»¤é€»è¾‘ (å¿«é€Ÿç¼“è§£ï¼Œæ¨èåº¦â­â­â­)

**ç›®æ ‡**: å‡å°‘ä¸å¿…è¦çš„è¿‡æ»¤

**å…·ä½“è¡ŒåŠ¨**:
1. **æ”¾å®½"unknown"è¿‡æ»¤**
   ```python
   # å½“å‰: ç›´æ¥è¿‡æ»¤æ‰€æœ‰"unknown"
   if c.filter_condition == "unknown":
       continue
   
   # æ”¹è¿›: å…è®¸éƒ¨åˆ†"unknown"é€šè¿‡ï¼Œä½¿ç”¨existsè¯­ä¹‰
   if c.filter_condition == "unknown":
       if c.constraint_type in ALLOW_EXISTS_TYPES:
           c.filter_condition = {"exists": True}
       else:
           continue
   ```

2. **æ™ºèƒ½é‡‡æ ·å›é€€**
   ```python
   # å½“å‰: æ— æ³•é‡‡æ ·æ—¶è¿”å›"unknown"
   def generate_value(constraint_type):
       if no_data_available:
           return "unknown"
   
   # æ”¹è¿›: ä½¿ç”¨é»˜è®¤å€¼æˆ–èŒƒå›´
   def generate_value(constraint_type):
       if no_data_available:
           return get_default_or_range(constraint_type)
   ```

3. **çº¦æŸä¼˜å…ˆçº§æ’åº**
   ```python
   # ä¼˜å…ˆé€‰æ‹©æ•°æ®å®Œæ•´åº¦é«˜çš„çº¦æŸç±»å‹
   constraint_scores = {
       "temporal": 1.0,  # æ•°æ®å®Œæ•´
       "author_count": 0.9,
       "birth_info": 0.1  # æ•°æ®ç¼ºå¤±
   }
   
   selected = weighted_choice(constraints, weights=scores)
   ```

**é¢„ä¼°æ—¶é—´**: 1-2å‘¨  
**é¢„æœŸæå‡**: çº¦æŸå¹³å‡æ•° 1.2 â†’ 2.0ï¼ŒæˆåŠŸç‡ 10% â†’ 20%

#### æ–¹æ¡ˆ3: è°ƒæ•´ç”Ÿæˆç­–ç•¥ (æ¥å—ç°å®ï¼Œæ¨èåº¦â­â­â­â­)

**ç›®æ ‡**: åœ¨ç°æœ‰çº¦æŸä¸‹ç”Ÿæˆæœ€ä¼˜è´¨é—®é¢˜

**å…·ä½“è¡ŒåŠ¨**:
1. **åŠ¨æ€è°ƒæ•´çº¦æŸæ•°é‡ç›®æ ‡**
   ```python
   # å½“å‰: å›ºå®š3-5ä¸ªçº¦æŸ
   num_constraints = random.randint(min_constraints, max_constraints)
   
   # æ”¹è¿›: æ ¹æ®å¯ç”¨çº¦æŸæ•°é‡è°ƒæ•´
   available_count = len(valid_applicable_ids)
   realistic_min = min(min_constraints, available_count // 2)
   realistic_max = min(max_constraints, available_count)
   num_constraints = random.randint(realistic_min, realistic_max)
   ```

2. **å¼ºåˆ¶å¤šè·³çº¦æŸæ³¨å…¥**
   ```python
   # å½“å‰: 15%æ¦‚ç‡æ³¨å…¥Phase 3çº¦æŸ
   if random.random() < 0.15:
       inject_phase3_constraint()
   
   # æ”¹è¿›: ä¿è¯æ¯ä¸ªé—®é¢˜è‡³å°‘æœ‰1ä¸ªå¤šè·³çº¦æŸ
   if not has_multi_hop_constraint(constraints):
       force_inject_multi_hop_constraint()
   ```

3. **é—®é¢˜åå¤„ç†å¢å¼º**
   ```python
   # å¯¹ç”Ÿæˆçš„ç®€å•é—®é¢˜è¿›è¡Œå¤æ‚åŒ–å¤„ç†
   if len(constraints) < 2:
       try_add_compatible_constraint()
   ```

**é¢„ä¼°æ—¶é—´**: 1å‘¨  
**é¢„æœŸæå‡**: æ¨ç†è·³æ•° 1.2 â†’ 1.8ï¼Œå¤šè·³é—®é¢˜å æ¯” 20% â†’ 50%

### 7.4 æœ€ç»ˆå»ºè®®

**ç»¼åˆè·¯å¾„**: ç»“åˆæ–¹æ¡ˆ1 + æ–¹æ¡ˆ2 + æ–¹æ¡ˆ3

**é˜¶æ®µ1 (1å‘¨)**: 
- å®æ–½æ–¹æ¡ˆ3 (è°ƒæ•´ç­–ç•¥)
- å®æ–½æ–¹æ¡ˆ2çš„éƒ¨åˆ†åŠŸèƒ½ (çº¦æŸä¼˜å…ˆçº§)
- **ç›®æ ‡**: ç«‹å³æå‡åˆ°å¹³å‡2ä¸ªçº¦æŸ

**é˜¶æ®µ2 (2-3å‘¨)**:
- å®Œæ•´å®æ–½æ–¹æ¡ˆ2 (ä¼˜åŒ–è¿‡æ»¤)
- å¼€å§‹æ–¹æ¡ˆ1çš„æ•°æ®æ”¶é›†
- **ç›®æ ‡**: å¹³å‡2.5ä¸ªçº¦æŸï¼Œ20%å¤šè·³é—®é¢˜

**é˜¶æ®µ3 (2-3ä¸ªæœˆ)**:
- å®Œæ•´å®æ–½æ–¹æ¡ˆ1 (æ‰©å±•æ•°æ®)
- æŒç»­ä¼˜åŒ–ç®—æ³•
- **ç›®æ ‡**: å¹³å‡3.5ä¸ªçº¦æŸï¼Œ50%å¤šè·³é—®é¢˜ï¼Œè¾¾åˆ°"å¤æ‚é—®é¢˜"æ ‡å‡†

### 7.5 å¯¹å¯è¡Œæ€§æŠ¥å‘Šçš„å“åº”

å¯è¡Œæ€§æŠ¥å‘Šçš„æ ¸å¿ƒå»ºè®®æ˜¯**"é‡‡çº³æ··åˆæ–¹æ¡ˆ3ï¼ˆåˆ†é˜¶æ®µæ‰©å±•ï¼‰"**ï¼Œæˆ‘ä»¬çš„æµ‹è¯•ç»“æœ**å®Œå…¨æ”¯æŒè¿™ä¸€å»ºè®®**ï¼š

1. âœ… **çŸ­æœŸï¼ˆ1ä¸ªæœˆï¼‰**: ä½¿ç”¨ç®€åŒ–æ¨¡æ¿éªŒè¯ â†’ **å·²éªŒè¯ï¼ŒæˆåŠŸç‡10%**
2. â³ **ä¸­æœŸï¼ˆ2-3ä¸ªæœˆï¼‰**: ä¼˜å…ˆæ‰©å±•3-5ä¸ªå±æ€§ â†’ **å»ºè®®è¿›è¡Œ**
3. â³ **é•¿æœŸï¼ˆ6ä¸ªæœˆï¼‰**: æ ¹æ®æ•ˆæœå†³å®šæ·±åº¦æ‰©å±• â†’ **å¾…è§„åˆ’**

**å…³é”®ç»“è®º**: 
- ç³»ç»Ÿæ¶æ„æ˜¯**å¥å…¨çš„**
- å¤šè·³éå†æ˜¯**å¯è¡Œçš„**
- **æ•°æ®ç¼ºå¤±æ˜¯å”¯ä¸€çš„ç“¶é¢ˆ**
- æ–¹å‘æ­£ç¡®ï¼Œéœ€è¦**è¡¥å……æ•°æ®**è€Œéé‡æ„ç®—æ³•

---

## é™„å½•

### A. ç”Ÿæˆçš„10ä¸ªé—®é¢˜è¯¦æƒ…

**æ–‡ä»¶ä½ç½®**: `output/questions/questions_20260203_100227.md`

**å¤æ‚åº¦åˆ†å¸ƒ**:
```
easy (1çº¦æŸ, 1è·³): 8ä¸ª
medium (2çº¦æŸ, 2è·³): 2ä¸ª
hard (3+çº¦æŸ, 3+è·³): 0ä¸ª
```

### B. ä½¿ç”¨çš„çº¦æŸç±»å‹

| çº¦æŸç±»å‹ | ä½¿ç”¨æ¬¡æ•° | ç¤ºä¾‹é—®é¢˜ |
|---------|---------|---------|
| `temporal` | 5 | QCC6AF60A, Q9E0F1EAD |
| `institution_affiliation` | 5 | Q483A4F11, Q30871DDE |
| `person_name` | 1 | Q9E0F1EAD |
| `title_format` | 1 | Q80B3D4D9 |
| `coauthor` | 1 | QAE1B9220 |

### C. ç›¸å…³æ–‡æ¡£

- `docs/CONSTRAINT_APPLICABILITY_ANALYSIS.md` - çº¦æŸå¯è¡Œæ€§åˆ†æ
- `docs/GENERATION_MECHANISM_ANALYSIS.md` - ç”Ÿæˆæœºåˆ¶æ·±åº¦åˆ†æ
- `docs/TEST_VALIDATION_REPORT.md` - æµ‹è¯•éªŒè¯æŠ¥å‘Š

---

**æŠ¥å‘Šå®Œæˆæ—¥æœŸ**: 2026-02-03  
**ä½œè€…**: CodeBuddy Code AI Assistant  
**ç‰ˆæœ¬**: 1.0
